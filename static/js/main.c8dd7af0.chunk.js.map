{"version":3,"sources":["app.jsx","service/firebase.js","service/repository.js","service/auth.js","index.js"],"names":["App","repository","auth","console","log","firebase","initializeApp","apiKey","process","authDomain","projectId","appId","firebaseAuth","firebaseDatabase","database","googleProvider","GoogleAuthProvider","Repository","userId","loadData","ref","on","snapshot","data","val","date","set","remove","update","naver","window","Kakao","Auth","googleAuthProvider","signInWithPopup","authorize","redirectUri","code","requestOptions","method","redirect","fetch","then","res","json","result","headers","Authorization","access_token","token","LoginWithNaverId","clientId","callbackUrl","isPopup","loginButton","color","type","height","callbackHandlke","init","signOut","goToHome","onAuthStateChanged","user","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+LA2BeA,MArBf,YAAoC,IAArBC,EAAoB,EAApBA,WAAYC,EAAQ,EAARA,KAGzB,OAFAC,QAAQC,IAAIH,GACZE,QAAQC,IAAIF,GAEV,gD,0DCCJG,IAASC,cAPc,CACrBC,OAAQC,0CACRC,WAAYD,uCACZE,UAAWF,uBACXG,MAAOH,8CAKF,IAAMI,EAAeP,IAASH,OACxBW,EAAmBR,IAASS,WAC5BC,EAAiB,IAAIV,IAASH,KAAKc,mBCQjCC,E,0IApBEC,EAAQC,G,iFACfN,EACHO,IADG,UACIF,EADJ,UAEHG,GAAG,SAAS,SAACC,GACZ,IAAMC,EAAOD,EAASE,MACtBL,EAASI,M,4KAGAL,EAAQO,G,iFACfZ,EAAiBO,IAAjB,UAAwBF,EAAxB,UAAuCQ,IAAID,G,qIAGxCP,EAAQK,GACjBV,EAAiBO,IAAjB,UAAwBF,EAAxB,WAAwCS,OAAOJ,K,iCAEtCL,EAAQK,GACjBV,EAAiBO,IAAjB,UAAwBF,EAAxB,WAAwCU,OAAOL,O,KCjB3CM,EAAUC,OAAVD,MACAE,EAAUD,OAAVC,MAiEOC,E,qGA7DX,IAAMC,EAAqBlB,EAC3B,OAAOH,EAAasB,gBAAgBD,K,mCAIpCF,EAAMC,KAAKG,UAAU,CACnBC,YAAa5B,4B,0EAGA6B,G,8EACTC,EAAiB,CACrBC,OAAQ,OACRC,SAAU,U,SAECC,MAAM,+EAAD,OAC+DjC,mCAD/D,yBAC+GA,wBAD/G,iBACuJ6B,GACvKC,GAECI,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACG,GACL,OAAOJ,MAAM,oCAAqC,CAChDF,OAAQ,MACRO,QAAS,CAAEC,cAAc,SAAD,OAAWF,EAAOG,eAC1CR,SAAU,cAGbE,MAAK,SAACO,GAAD,OAAWA,K,wSAGNR,MAAM,0CAAD,OAC0BjC,mCAD1B,gCACiFA,0B,sLAIhF,IAAIqB,EAAMqB,iBAAiB,CAC5CC,SAAU3C,uBACV4C,YAAa5C,yBACb6C,SAAS,EACTC,YAAa,CAAEC,MAAO,QAASC,KAAM,EAAGC,OAAQ,IAChDC,iBAAiB,IAERC,S,+EAEStB,G,iFACPI,MAAM,sCAAuC,CACxDF,OAAQ,MACRO,QAAS,CAAEC,cAAc,UAAD,OAAYV,IACpCG,SAAU,WACTE,MAAK,SAACC,GAAD,OAASA,EAAIC,U,0KAIrB,OAAOhC,EAAagD,Y,mCAETC,GACXjD,EAAakD,oBAAmB,SAACC,GAC/BF,EAASE,U,KCxDT9D,EAAa,IAAIgB,EACjBf,EAAO,IAAI8B,EAEjBgC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAKjE,WAAYA,EAAYC,KAAMA,MAErCiE,SAASC,eAAe,W","file":"static/js/main.c8dd7af0.chunk.js","sourcesContent":["// import { Switch, Route, BrowserRouter } from \"react-router-dom\";\n// import \"./app.css\";\n// import Login from \"./component/login/login\";\n// import Home from \"./component/home/home\";\n// import Calendar from \"./component/calendar/calendar\";\n\nfunction App({ repository, auth }) {\n  console.log(repository);\n  console.log(auth);\n  return (\n    <h2>성공?</h2>\n    // <BrowserRouter basename=\"/react-dietCalendar\">\n    //   <Switch>\n    //     <Route exact path=\"/\">\n    //       <Login auth={auth} repository={repository} />\n    //     </Route>\n    //     <Route path=\"/Home\">\n    //       <Home auth={auth} />\n    //     </Route>\n    //     <Route path=\"/Calendar\">\n    //       <Calendar repository={repository} auth={auth} />\n    //     </Route>\n    //   </Switch>\n    // </BrowserRouter>\n  );\n}\n\nexport default App;\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseAuth = firebase.auth();\r\nexport const firebaseDatabase = firebase.database();\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n","import { firebaseDatabase } from \"./firebase\";\r\n\r\nclass Repository {\r\n  async loadUser(userId, loadData) {\r\n    await firebaseDatabase //\r\n      .ref(`${userId}/date`)\r\n      .on(\"value\", (snapshot) => {\r\n        const data = snapshot.val();\r\n        loadData(data);\r\n      });\r\n  }\r\n  async saveData(userId, date) {\r\n    await firebaseDatabase.ref(`${userId}/date`).set(date);\r\n  }\r\n\r\n  deleteData(userId, data) {\r\n    firebaseDatabase.ref(`${userId}/date/`).remove(data);\r\n  }\r\n  updateDate(userId, data) {\r\n    firebaseDatabase.ref(`${userId}/date/`).update(data);\r\n  }\r\n}\r\n\r\nexport default Repository;\r\n","import { googleProvider, firebaseAuth } from \"./firebase\";\r\n\r\nconst { naver } = window;\r\nconst { Kakao } = window;\r\n\r\nclass Auth {\r\n  googleAuth() {\r\n    const googleAuthProvider = googleProvider;\r\n    return firebaseAuth.signInWithPopup(googleAuthProvider);\r\n  }\r\n\r\n  loginKakao() {\r\n    Kakao.Auth.authorize({\r\n      redirectUri: process.env.REACT_APP_KAKAO_URL,\r\n    });\r\n  }\r\n  async fetchToken(code) {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      redirect: \"follow\",\r\n    };\r\n    return await fetch(\r\n      `https://kauth.kakao.com/oauth/token?grant_type=authorization_code&client_id=${process.env.REACT_APP_KAKAO_KEY}&redirect_uri=${process.env.REACT_APP_KAKAO_URL}&code=${code}`,\r\n      requestOptions\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        return fetch(\"https://kapi.kakao.com/v2/user/me\", {\r\n          method: \"GET\",\r\n          headers: { Authorization: `Beaer ${result.access_token}` },\r\n          redirect: \"follow\",\r\n        });\r\n      }) //\r\n      .then((token) => token);\r\n  }\r\n  async kakaoLogout() {\r\n    return await fetch(\r\n      `kauth.kakao.com/oauth/logout?client_id=${process.env.REACT_APP_KAKAO_KEY}&logout_redirect_uri=${process.env.REACT_APP_KAKAO_URL}`\r\n    );\r\n  }\r\n  initializeNaverLogin() {\r\n    const naverLogin = new naver.LoginWithNaverId({\r\n      clientId: process.env.REACT_APP_NAVER_ID,\r\n      callbackUrl: process.env.REACT_APP_NAVER_URL,\r\n      isPopup: false,\r\n      loginButton: { color: \"green\", type: 1, height: 30 },\r\n      callbackHandlke: true,\r\n    });\r\n    naverLogin.init();\r\n  }\r\n  async fetchNaverToken(code) {\r\n    return await fetch(\"https://openapi.naver.com/v1/nid/me\", {\r\n      method: \"GET\",\r\n      headers: { Authorization: `Bearer ${code}` },\r\n      redirect: \"follow\",\r\n    }).then((res) => res.json());\r\n  }\r\n\r\n  signOut() {\r\n    return firebaseAuth.signOut();\r\n  }\r\n  onAuthChange(goToHome) {\r\n    firebaseAuth.onAuthStateChanged((user) => {\r\n      goToHome(user);\r\n    });\r\n  }\r\n}\r\n\r\nexport default Auth;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./app.jsx\";\nimport Repository from \"./service/repository\";\nimport Auth from \"./service/auth\";\n\nconst repository = new Repository();\nconst auth = new Auth();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App repository={repository} auth={auth} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}